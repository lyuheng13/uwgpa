mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sigmoid(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sigmoid(d$student) * 100),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sigmoid(d$student) * 10),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sigmoid(d$student) * 5),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student) * 5),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
n <- 100
theta <- runif(n, 0, 2*pi)
u <- runif(n, -1, 1)
p <- plot_ly(x = ~sqrt(1 - u^2) * cos(theta), y = ~sqrt(1 - u^2) * sin(theta), z = ~u) %>%
layout(
title = "Layout options in a 3d scatter plot",
scene = list(
xaxis = list(title = "Cos"),
yaxis = list(title = "Sin"),
zaxis = list(title = "Z")
))
p <- plot_ly(x = ~sqrt(1 - u^2) * cos(theta), y = ~sqrt(1 - u^2) * sin(theta), z = ~u) %>%
layout(
title = "Layout options in a 3d scatter plot",
scene = list(
xaxis = list(title = "Cos"),
yaxis = list(title = "Sin"),
zaxis = list(title = "Z")
))
p
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
d <- df %>%
mutate(code = paste(dept_abbrev, course_no)) %>%
mutate(gp = as.numeric(avg_gpa) * as.numeric(student_count))%>%
group_by(code)%>%
summarize(
sections=n(),
college=college_text[1],
sub_college=sub_college_text[1],
dept=department_text[1],
abbr=dept_abbrev[1],
no=course_no[1],
title=course_title[1],
student=sum(as.numeric(student_count), na.rm = T),
A=sum(as.numeric(A), na.rm = T),
tgp = sum(gp,na.rm = T),
avg = round(tgp / student,2),
A_perc = round(A/student,3) * 100)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
df <- read.csv("../data/uw_courses.csv", stringsAsFactors = F)
d <- df %>%
mutate(code = paste(dept_abbrev, course_no)) %>%
mutate(gp = as.numeric(avg_gpa) * as.numeric(student_count))%>%
group_by(code)%>%
summarize(
sections=n(),
college=college_text[1],
sub_college=sub_college_text[1],
dept=department_text[1],
abbr=dept_abbrev[1],
no=course_no[1],
title=course_title[1],
student=sum(as.numeric(student_count), na.rm = T),
A=sum(as.numeric(A), na.rm = T),
tgp = sum(gp,na.rm = T),
avg = round(tgp / student,2),
A_perc = round(A/student,3) * 100)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
library(dplyr)
library(tidyr)
d <- df %>%
mutate(code = paste(dept_abbrev, course_no)) %>%
mutate(gp = as.numeric(avg_gpa) * as.numeric(student_count))%>%
group_by(code)%>%
summarize(
sections=n(),
college=college_text[1],
sub_college=sub_college_text[1],
dept=department_text[1],
abbr=dept_abbrev[1],
no=course_no[1],
title=course_title[1],
student=sum(as.numeric(student_count), na.rm = T),
A=sum(as.numeric(A), na.rm = T),
tgp = sum(gp,na.rm = T),
avg = round(tgp / student,2),
A_perc = round(A/student,3) * 100)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
library(plotly)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = log2(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sqrt(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
z=~student,
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sqrt(d$student)),
color = ~sub_college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sqrt(d$student)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = nthroot(d$student,3)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
install.packages(racma)
install.packages(pracma)
install.packages("pracma")
library(pracma)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = nthroot(d$student,3)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = nthroot(d$student,2.5)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sqrt(d$student)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sqrt(d$student)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage % of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
source('~/Desktop/info/finalproj/scripts/function1.R')
plot_ly(
data = d,
x = ~A_perc,
y = ~avg,
type = "scatter",
mode = "markers",
hovertemplate = paste(d$sub_college,
"<br>", d$code, d$title,
"<br>",d$sections," section(s),",d$student, "students",
"<br>", d$A_perc, "%","received 4.0", "average GPA",d$avg),
marker = list(size = sqrt(d$student)),
color = ~college
) %>%
layout(
title = "Every course at UW, by GPA",
xaxis = list(title = "Percentage % of 4.0 given (A)"),
yaxis = list(title = "Average GPA")
)
sum(df$student_count)
sum(as.numeric(df$student_count))
sum(as.numeric(df$student_count,na.omit()))
sum(as.numeric(df$student_count,na.rm=T)))
sum(as.numeric(df$student_count),na.rm=T)
